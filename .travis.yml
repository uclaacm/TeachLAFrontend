language: node_js
node_js:
  - "10"
  - node
  - lts/*
cache:
  directories:
  - node_modules

matrix:
  fast_finish: true
  include: 
    - name: "Production Build"
      node_js: "10"
  allow_failures:
    - name: "Node Latest"
      node_js: node
    - name: "Node LTS"
      node_js: lts/*

script:
  - npm run prod_build
  - npm test

notifications:
  email:
    on_success: never
    on_failure: always